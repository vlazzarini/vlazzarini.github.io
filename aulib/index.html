<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AuLib: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AuLib
   &#160;<span id="projectnumber">1.0beta</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">AuLib Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespace_au_lib.html">AuLib</a> is a simple lightweight C++ (ISO C++11) class library for audio DSP.</p>
<h1><a class="anchor" id="build_the_package"></a>
Building</h1>
<p>The library and example programs are built with CMake. The only dependencies are libsndfile and portaudio and they are only required to build the example programs that use the audio IO classes. The code can be used within any audio processing context and it can be incorporated in plugins and other programs with their own IO.</p>
<div class="fragment"><div class="line">$ mkdir build</div><div class="line">$ cd build</div><div class="line">$ cmake .. </div><div class="line">$ make</div><div class="line">$ make install</div></div><!-- fragment --><h1><a class="anchor" id="using_the_library"></a>
Using</h1>
<p>A number of minimal examples are supplied to demonstrate how the library can be used. However, these are only very simple programs that only hint at the possible applications. Generally speaking, objects of the different processing classes are instantiated and then used to generate or process vectors of audio data, which are kept the library objects.</p>
<p>It is possible to access the output samples of each object directly, and processing functions can take both objects (const AudioObj&amp;) and audio vectors (const double*) as inputs (as well as other parameters, depending on the object type). A number of operations can be applied to objects (such as scaling, offsetting, mixing to, etc.).</p>
<p>A minimal example is shown below where an echo effect is applied to an arbitrary input, using SoundIn, SoundOut, Chn, Pan, SigBus and Delay objects.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_sound_out_8h.html">SoundOut.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_sound_in_8h.html">SoundIn.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_delay_8h.html">Delay.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_chn_8h.html">Chn.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_sig_bus_8h.html">SigBus.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_pan_8h.html">Pan.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespace_au_lib.html">AuLib</a>;</div><div class="line"><span class="keyword">using namespace </span>std;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span> **argv){</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span>(argc &gt; 2){</div><div class="line"> </div><div class="line">    <a class="code" href="class_au_lib_1_1_sound_in.html">SoundIn</a> input(argv[1]);</div><div class="line">    std::vector&lt;Chn&gt;  chn(input.nchnls());</div><div class="line">    std::vector&lt;Delay&gt; echo(input.nchnls(),</div><div class="line">                <a class="code" href="class_au_lib_1_1_delay.html">Delay</a>(0.5, 0.75,</div><div class="line">                  <a class="code" href="namespace_au_lib.html#a9af7341071c7c07ea70348f9f1a6125b">def_vframes</a>,input.sr()));</div><div class="line">    std::vector&lt;Pan&gt;   pan(input.nchnls());</div><div class="line">    <a class="code" href="class_au_lib_1_1_sig_bus.html">SigBus</a>  mix(1./input.nchnls(),0.,<span class="keyword">false</span>,2);</div><div class="line">    <a class="code" href="class_au_lib_1_1_sound_out.html">SoundOut</a> output(argv[2],2,<a class="code" href="namespace_au_lib.html#a9af7341071c7c07ea70348f9f1a6125b">def_vframes</a>,input.sr());</div><div class="line">   </div><div class="line">    cout &lt;&lt; <a class="code" href="namespace_au_lib_1_1_info.html#ae30e6b4316b03d5ea7df3b2a7d22360a">Info::version</a>();</div><div class="line"></div><div class="line">   <span class="keywordflow">for</span>(uint64_t i=0; i &lt; input.dur(); i+=<a class="code" href="namespace_au_lib.html#a9af7341071c7c07ea70348f9f1a6125b">def_vframes</a>){</div><div class="line">      input.read();</div><div class="line">      <span class="keywordflow">for</span>(uint32_t j = 0; j &lt; input.nchnls(); j++){</div><div class="line">    chn[j].process(input,j+1);</div><div class="line">    echo[j].process(chn[j]);</div><div class="line">    pan[j].process(echo[j]+=chn[j],</div><div class="line">               (1+j)*input.nchnls()/2.);</div><div class="line">    mix.process(pan[j]);</div><div class="line">      }</div><div class="line">      output.write(mix);</div><div class="line">      mix.clear();</div><div class="line">    }</div><div class="line">    </div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">    </div><div class="line">  } <span class="keywordflow">else</span></div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;usage: &quot;</span></div><div class="line">          &lt;&lt; argv[0] &lt;&lt; <span class="stringliteral">&quot; &lt;source&gt; &lt;dest&gt;\n&quot;</span>;</div><div class="line">  <span class="keywordflow">return</span> 1;</div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="extending_lib"></a>
Extending</h1>
<p>The library classes can be easily extended. There is quite a bit freedom to do this, as there are not strict prescriptions on the form or signature of processing methods. Usually we would inherit from the AudioBase class to allow easy integration with existing objects, and to avail of basic audio processing facilities provided there. Supplying a processing method that consumes a vector of samples and another that reads from an AudioObj&amp; is the minimum necessary to allow full integration.</p>
<p>The following example is a skeleton of an AudioBase-derived class that demonstrates these ideas:</p>
<div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespace_au_lib.html">AuLib</a> {</div><div class="line"></div><div class="line"><span class="keyword">class </span>NewClass : <span class="keyword">public</span> AudioBase {</div><div class="line"></div><div class="line">  <span class="keyword">protected</span>:</div><div class="line">    <span class="keywordtype">double</span> m_par;</div><div class="line">  </div><div class="line">  <span class="keyword">public</span>:</div><div class="line">    </div><div class="line">    NewClass(<span class="keywordtype">double</span> param = .5, uint32_t nchnls=<a class="code" href="namespace_au_lib.html#a50285c07fffaf75020e8238a6e1ac971">def_nchnls</a></div><div class="line">       uint32_t vframes = <a class="code" href="namespace_au_lib.html#a9af7341071c7c07ea70348f9f1a6125b">def_vframes</a>, <span class="keywordtype">double</span> sr = <a class="code" href="namespace_au_lib.html#a5474e642bbb8f60b8a04d9bcd60ba842">def_sr</a>) :</div><div class="line">        m_param(param),</div><div class="line">        AudioBase(nchnls,vframes,sr) { };</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">double</span>* process(<span class="keyword">const</span> <span class="keywordtype">double</span>* sig);</div><div class="line">   </div><div class="line">    <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">double</span>* process(<span class="keyword">const</span> <span class="keywordtype">double</span>* sig, <span class="keywordtype">double</span> par){</div><div class="line">      m_par = par;</div><div class="line">      <span class="keywordflow">return</span> process(sig);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keyword">const</span> NewClass&amp; process(<span class="keyword">const</span> AudioBase&amp; obj){</div><div class="line">      <span class="keywordflow">if</span>(obj.vframes() == m_vframes &amp;&amp;</div><div class="line">     obj.nchnls() == m_nchnls) {</div><div class="line">    process(obj.vector());</div><div class="line">      } <span class="keywordflow">else</span> m_error = <a class="code" href="namespace_au_lib.html#a88ae3cf651eaa361e157ae855bfb2118a63f646169fbcea541abc06b783003465">AULIB_ERROR</a>;</div><div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keyword">virtual</span> <span class="keyword">const</span> NewClass&amp; process(<span class="keyword">const</span> AudioBase&amp; obj, </div><div class="line">                                     <span class="keywordtype">double</span> par){</div><div class="line">      m_par = par;</div><div class="line">      process(obj);</div><div class="line">      <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line">    }    </div><div class="line"></div><div class="line">  };</div><div class="line"></div><div class="line">}</div></div><!-- fragment --><h1><a class="anchor" id="gpl_license"></a>
License</h1>
<p>Copyright (C) 2016-7 V Lazzarini</p>
<p>This software is free software; you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation; either version 2.1 of the License, or (at your option) any later version.</p>
<p>This software is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</p>
<p>You should have received a copy of the GNU Lesser General Public License along with this software; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
