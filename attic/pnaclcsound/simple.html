<!DOCTYPE html> 
<html> 
<!-- 
 Csound pnacl minimal example 
 Copyright (C) 2013 V Lazzarini 
--> 
<head> 
 <title>Minimal Csound Example</title> 
 <script type="text/javascript" src="csound.js"></script> 
 <script type="text/javascript"> 
 function moduleDidLoad() {
  csound.Play();
  csound.CompileOrc(
  "schedule 1,0,-1 \n" +
  "instr 1 \n" +
  "kfr chnget \"freq\" \n" +
  "a1 oscili 0.5,kfr \n" +
  "outs a1,a1 \n"  +
  "endin");
SetFreq();
                csound.CompileOrc(
                  "instr 3" +
                  "out(oscil(p4,p5))" +
                  "endin" +
                  "schedule(3,0,2,0.5,500)" 
                 )
 }
 function attachListeners() {
   document.getElementById("freq").
       addEventListener("change",SetFreq);
 }
 function SetFreq(){
  var val = document.getElementById("freq").value;
  csound.SetChannel("freq", val); 
 }
 </script> 
</head> 
<body>
   <p>
  <input type="range" name="frequency" id="freq" step="1" value="50"
  min="0" max="100"> frequency </p>
  <p>

   <h3 id="tit"> </h3> 
  <div id="mess"> 
 
  </div> 
  <!--pNaCl csound module--> 
  <div id="engine"></div> 
  
</body> 
</html>
